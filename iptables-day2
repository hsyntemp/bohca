IPTABLES 
DAy 2

I study by the guidance of http://www.control.aau.dk/~jdn/edu/courses/12-2/socket-iptables/littt/Oreilly.Linux.iptables.Pocket.Reference.Aug.2004.pdf


iptables can be used for packet filtering, nat, and other packet mangling...
each of these have chains ( sequences ) of processing rules.
Rule consists of matches and targets. ( yakala ve do it)

iptables operates at OSI layer 3 !!!!!!!!!!1 important point!!!
for layer 2, there are other technologies such as ebtables.!!!

********************Example
iptables -t nat -A PREROUTING -i eth1 -p tcp --dport 80 -j DNAT --to-destination 192.168.1.3:8080
-t nat--> operate on the nat table.
-A PREROUTING --> we append the following rule to its PREROUTING chain

-i eth1--> match packets coming in on the eth1 network interface.
-p tcp --> that use the tcp protocol
--dport 80 --> intended for local port 80
-j DNAT --> jump to the DNAT target

--to-destination 192.168.1.3:8080 --> change the destination address to 19***** and destination port to 8080

***************************

iptabls defines five hook points in the kernel's packet processing pathways ( in other words these are built-in chains)
PREROUTING, INPUT, FORWARD, POSTROUTING, OUTPUT

built-in chains are attached to these hook points. we can add a sequence of rules for each hook point. each rule 
represents a chance to affect or monitor packet flow.
-->built-in zinciler hooklara yapışıktır. her hook a biz kurallaar dizisi ekleriz. ve bu kurallarla paketleri monitor/manuple ederiz.

****************************************************
5 Hook --> Allows you to process packets..

FORWARD... that flow through a gateway computer, coming in one
interface and going right back out another.

INPUT... just before they are delivered to a local process

OUTPUT... just after they are generated by a local process

POSTROUTING... just before they leave a network interface.

PREROUTING... just as they arrive from a network interface (after dropping
any packets resulting from the interface being in promiscuous
mode and after checksum validation)

Our choice will be based on whre in the packet lifecycle you need to apply your rules. For ex, if want to filter
outgoing packets, it is best to do so in the OUTPUT chain, because the POSTROUTING chain is not associated with 
FILTER table. (( table ne olaki ??? hook ları ya da chainlere ya da process leri anladim )
****************************************************

&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
iptables comes with three built-int tables: 
*filter *mangle *nat

Each is preconfigured with chains (hooks) corresponding to one or more of the hook points.

pdf 10 da kaldım.

&&&&&&&&&&&&&&&&&&&&&&&&&&&&&

